{"remainingRequest":"/home/sium/city_bus/frontend/citybus/node_modules/babel-loader/lib/index.js!/home/sium/city_bus/frontend/citybus/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sium/city_bus/frontend/citybus/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/sium/city_bus/frontend/citybus/src/views/Registration.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/sium/city_bus/frontend/citybus/src/views/Registration.vue","mtime":1635797144368},{"path":"/home/sium/city_bus/frontend/citybus/babel.config.js","mtime":1635395796301},{"path":"/home/sium/city_bus/frontend/citybus/node_modules/cache-loader/dist/cjs.js","mtime":1635395789697},{"path":"/home/sium/city_bus/frontend/citybus/node_modules/babel-loader/lib/index.js","mtime":1635395790311},{"path":"/home/sium/city_bus/frontend/citybus/node_modules/cache-loader/dist/cjs.js","mtime":1635395789697},{"path":"/home/sium/city_bus/frontend/citybus/node_modules/vue-loader-v16/dist/index.js","mtime":1635395790304}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NpdW0vY2l0eV9idXMvZnJvbnRlbmQvY2l0eWJ1cy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaXJzdF9uYW1lOiAnJywKICAgICAgbGFzdF9uYW1lOiAnJywKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBlbWFpbDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgZXJyb3JzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzLCBmb3JtZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMgPSBfdGhpczI7CiAgICAgICAgICAgICAgICBmb3JtZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogX3RoaXMyLmZpcnN0X25hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogX3RoaXMyLmxhc3RfbmFtZSwKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IF90aGlzMi51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzMi5lbWFpbCwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzMi5wYXNzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGRlbGV0ZSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsiQXV0aG9yaXphdGlvbiJdOwogICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycyA9IFtdOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnYXBpL2F1dGgvdXNlcnMvJywgZm9ybWRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBtYWRlIGFuZCBzZXJ2ZXIgcmVzcG9uZGVkCiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBlcnJvci5yZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5lcnJvcnMpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/sium/city_bus/frontend/citybus/src/views/Registration.vue"],"names":[],"mappings":";;AA6EA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACX,EAAA,IADW,kBACL;AACF,WAAM;AACF,MAAA,UAAU,EAAC,EADT;AAEF,MAAA,SAAS,EAAC,EAFR;AAGF,MAAA,QAAQ,EAAC,EAHP;AAIF,MAAA,KAAK,EAAC,EAJJ;AAKF,MAAA,QAAQ,EAAC,EALP;AAMF,MAAA,MAAM,EAAC;AANL,KAAN;AASH,GAXU;AAYX,EAAA,OAAO,EAAC;AACE,IAAA,MADF,oBACU;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACN,gBAAA,KADM,GACE,MADF;AAEJ,gBAAA,QAFI,GAEO;AACb,kBAAA,UAAU,EAAC,MAAI,CAAC,UADH;AAEb,kBAAA,SAAS,EAAC,MAAI,CAAC,SAFF;AAGb,kBAAA,QAAQ,EAAC,MAAI,CAAC,QAHD;AAIb,kBAAA,KAAK,EAAC,MAAI,CAAC,KAJE;AAKb,kBAAA,QAAQ,EAAC,MAAI,CAAC;AALD,iBAFP;AASV,uBAAQ,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,CAAR;AACA,gBAAA,MAAI,CAAC,MAAL,GAAc,EAAd;AAVU;AAAA,uBAWJ,KAAK,CAAC,IAAN,CAAW,iBAAX,EAA6B,QAA7B,EACL,IADK,CACA,UAAA,GAAE,EAAI;AACR,kBAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AAEA,kBAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACH,iBALK,EAML,KANK,CAMC,UAAU,KAAV,EAAiB;AACpB,sBAAI,KAAK,CAAC,QAAV,EAAoB;AACpB;AAEA;AACA,oBAAA,KAAK,CAAC,MAAN,GAAe,KAAK,CAAC,QAArB;AACA,oBAAA,OAAO,CAAC,GAAR,CAAY,KAAK,CAAC,MAAlB;AAIA;AAEH,iBAlBK,CAXI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8Bd;AA/BI;AAZG,CAAf","sourcesContent":["<template>\n    \n\n    <div class=\"container\">\n        <div class=\"card\" style=\"width: 30rem;\">\n        <div class=\"card-header my-3\">\n            <h2>Register</h2>\n        </div>\n        <div class=\"card-body\">\n            <div v-for=\"data in errors\" :key=\"data.id\">\n                <div class=\"row mb-1\">\n                    <span v-if=\"data.username\" class=\"info\">\n                        <i class=\"fas fa-info-circle\"></i>\n                    username = {{data.username}}\n                    </span>\n                    <span v-if=\"data.password\" class=\"info\">\n                    <i class=\"fas fa-info-circle\"></i>\n                        password = {{data.password}}\n                    </span>\n                    <span v-if=\"data.email\" class=\"info\">\n                        <i class=\"fas fa-info-circle\"></i>\n                    email = {{data.email}}\n                    </span>\n                </div>\n                \n                \n                \n                \n                \n\n            </div>\n            <form @submit.prevent=\"submit\">\n                <div class=\"row\">\n                    <div class=\"col\">\n                        <div class=\"mb-3\">\n                            <label for=\"firstname\" class=\"form-label\">First Name</label>\n                            <input type=\"text\" v-model=\"first_name\" class=\"form-control\" id=\"firstname\" autocomplete=\"false\">\n                    \n                        </div>\n                    </div>\n                    <div class=\"col\">\n                        <div class=\"mb-3\">\n                            <label for=\"lastname\" class=\"form-label\">Last Name</label>\n                            <input type=\"text\" v-model=\"last_name\" class=\"form-control\" id=\"lastname\" autocomplete=\"false\">\n                    \n                        </div>\n                    </div>\n                   \n                \n                </div>\n                <div class=\"mb-3\">\n                            <label for=\"username\" class=\"form-label\">User Name</label>\n                            <input type=\"text\" v-model=\"username\" class=\"form-control\" id=\"username\" >\n                    \n                        </div>\n                <div class=\"mb-3\">\n                            <label for=\"email\" class=\"form-label\">Email</label>\n                            <input type=\"text\" v-model=\"email\" class=\"form-control\" id=\"email\">\n                    \n                        </div>\n\n                \n                <div class=\"mb-3\">\n                    <label for=\"exampleInputPassword1\" class=\"form-label\">Password</label>\n                    <input type=\"password\" v-model=\"password\" class=\"form-control\" id=\"exampleInputPassword1\">\n                </div>\n                \n                \n\n                <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n            </form>\n            \n        </div>\n    </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios'\nexport default {\n    data(){\n        return{\n            first_name:'',\n            last_name:'',\n            username:'',\n            email:'',\n            password:'',\n            errors:[]\n        }\n\n    },\n    methods:{\n        async submit(){\n            let _this = this\n            const formdata = {\n                first_name:this.first_name,\n                last_name:this.last_name,\n                username:this.username,\n                email:this.email,\n                password:this.password\n            }\n            delete  axios.defaults.headers.common[\"Authorization\"];\n            this.errors = [];\n            await axios.post('api/auth/users/',formdata)\n            .then(res =>{\n                console.log(res)\n                \n                this.$router.push('/login')\n            })\n            .catch(function (error) {\n                if (error.response) {\n                // Request made and server responded\n                \n                //console.log(error.response.data);\n                _this.errors = error.response\n                console.log(_this.errors)\n                \n                \n                \n                } \n\n            });\n        }\n    }\n}\n</script>\n<style>\n.container{\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    \n}\n.card{\n    margin-top: 3rem;\n} \nh2{\n    font-weight: 900;\n}\n.info{\n  color:crimson\n}\n</style>"],"sourceRoot":""}]}