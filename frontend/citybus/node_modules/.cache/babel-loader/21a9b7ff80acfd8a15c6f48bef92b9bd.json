{"remainingRequest":"/home/sium/city_bus/frontend/citybus/node_modules/babel-loader/lib/index.js!/home/sium/city_bus/frontend/citybus/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sium/city_bus/frontend/citybus/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/sium/city_bus/frontend/citybus/src/App.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/sium/city_bus/frontend/citybus/src/App.vue","mtime":1635788620970},{"path":"/home/sium/city_bus/frontend/citybus/babel.config.js","mtime":1635395796301},{"path":"/home/sium/city_bus/frontend/citybus/node_modules/cache-loader/dist/cjs.js","mtime":1635395789697},{"path":"/home/sium/city_bus/frontend/citybus/node_modules/babel-loader/lib/index.js","mtime":1635395790311},{"path":"/home/sium/city_bus/frontend/citybus/node_modules/cache-loader/dist/cjs.js","mtime":1635395789697},{"path":"/home/sium/city_bus/frontend/citybus/node_modules/vue-loader-v16/dist/index.js","mtime":1635395790304}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NpdW0vY2l0eV9idXMvZnJvbnRlbmQvY2l0eWJ1cy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnYXBpL2F1dGgvdXNlcnMvbWUvJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXInLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCdhcGkvYXV0aC90b2tlbi9sb2dvdXQnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCd1c2VyJywgbnVsbCk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/sium/city_bus/frontend/citybus/src/App.vue"],"names":[],"mappings":";;AA2DA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACP,EAAA,YADO,0BACO;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACZ,KAAK,CAAC,GAAN,CAAU,oBAAV,EACL,IADK,CACA,UAAA,GAAE,EAAK;AACX,gBAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,MAArB,EAA4B,GAAG,CAAC,IAAhC;AAED,eAJK,EAKL,IALK,CAKA,UAAA,GAAE,EAAI;AACV,gBAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACD,eAPK,CADY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASnB,GAVY;AAWb,EAAA,OAAO,EAAC;AACA,IAAA,MADA,oBACQ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACN,KAAK,CAAC,IAAN,CAAW,uBAAX,EACL,IADK,CACA,UAAA,GAAE,EAAK;AACX,kBAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACA,kBAAA,YAAY,CAAC,UAAb,CAAwB,OAAxB;;AACA,kBAAA,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,MAArB,EAA4B,IAA5B;;AACA,kBAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACD,iBANK,EAOL,IAPK,CAOA,UAAA,GAAE,EAAK;AACX,kBAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACD,iBATK,CADM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWd;AAZM;AAXK,CAAf","sourcesContent":["<template>\n\n<!-- Navbar -->\n  <nav class=\"navbar navbar-expand-md navbar-light mx-2 px-2\">\n    <div class=\"container\">\n      <!-- navbar brand / title -->\n      <a class=\"navbar-brand\" href=\"/\">\n        <span class=\" fw-bold\">\n          Sohochor\n        </span>\n      </a>\n      <!-- toggle button for mobile nav -->\n      <button\n      class=\"navbar-toggler\"\n      type=\"button\"\n      data-mdb-toggle=\"collapse\"\n      data-mdb-target=\"#main-nav\"\n      aria-controls=\"main-nav\"\n      aria-expanded=\"false\"\n      aria-label=\"Toggle navigation\"\n    >\n      <i class=\"fas fa-bars\"></i>\n    </button>\n\n      <!-- navbar links -->\n      <div class=\"collapse navbar-collapse justify-content-end align-center\" id=\"main-nav\">\n        <ul class=\"navbar-nav\">\n          <li v-if=\"this.$store.state.user !== null\" class=\"nav-item px-2 me-1 py-3\">\n            <b>Hi! {{$store.state.user.username}}</b> \n          </li>\n          <li class=\"nav-item px-2 me-1 py-3\">\n            <router-link to='/about'>About</router-link>\n          </li>\n          <li v-if='this.$store.state.user === null' class=\"nav-item px-2 me-1 py-2\">\n            <router-link to='/login'>\n            <button class=\"btn btn-primary\">Login</button>\n            </router-link>\n          </li>\n          <li v-if=\"this.$store.state.user !== null\" class=\"nav-item px-2 me-1 py-2\">\n            <button v-on:click='logout' class=\"btn btn-primary\">Log out</button>\n          </li>\n\n          \n          \n          \n        </ul>\n      </div>\n    </div>\n  </nav>\n<!-- Navbar -->\n\n  \n  \n  \n          \n  <router-view/>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  async beforeCreate(){\n    await axios.get('api/auth/users/me/')\n    .then(res => {\n      this.$store.dispatch('user',res.data)\n\n    })\n    .then(err =>{\n      console.log(err)\n    })\n  },\n  methods:{\n    async logout(){\n      await axios.post('api/auth/token/logout')\n      .then(res => {\n        console.log(res)\n        localStorage.removeItem('token')\n        this.$store.dispatch('user',null)\n        this.$router.push('/')\n      })\n      .then(err => {\n        console.log(err)\n      })\n    }\n    \n      \n    \n  }\n}\n</script>\n\n<style>\n\n.navbar-brand{\n  font-size: 1.5rem;\n  font-weight: 900;\n  \n}\n\n.navbar{\n  background-color:  #F6F5F5;\n}\n\nbody{\n  background-color: #FEFBF3;\n}\n\n.btn-success{\n  background-color: #4E9F3D;\n}\n\n\n\n\n</style>\n"],"sourceRoot":""}]}